---
- name: Dotfiles config
  hosts: localhost
  connection: local

  vars:
    downloads: "{{ lookup('env', 'HOME') }}/Downloads"
    github_dir: "{{ lookup('env', 'HOME') }}/Documents/github"

  pre_tasks:
    - name: Detect host system
      ansible.builtin.import_tasks: pre_tasks/whoami.yml
      tags:
        - always

  tasks:
    - name: Run default no matter what os
      ansible.builtin.import_role:
        name: "common"
      tags:
        - always

  roles:
    - role: common
    - role: archlinux
